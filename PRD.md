# PRD.md - TourTalk MVP 0

## 📋 프로젝트 개요

### 프로젝트명
**TourTalk** - AI 기반 다국어 실시간 통역 투어 가이드 플랫폼

### 버전
MVP 0 (프로토타입)

### 작성일
2026-02-06

### 작성자
Jun

---

## 🎯 프로젝트 목표

### MVP 0 단계 목표
실제 기능 구현 없이 **화면 구성과 사용자 플로우만 시각화**하여 잠재 사용자들에게 서비스 컨셉을 검증받는다.

### 주요 목적
1. ✅ 화면 구성 및 UI/UX 검증
2. ✅ 사용자 여정(User Flow) 시각화
3. ✅ 화면 간 전환 및 네비게이션 확인
4. ✅ 초기 사용자 피드백 수집
5. ✅ URL 공유를 통한 원격 테스트

### 제외 사항 (MVP 1 이후)
- ❌ 실제 소셜 로그인 연동
- ❌ 실제 번역/통역 API 연동
- ❌ 실시간 메시징 (WebSocket)
- ❌ 데이터베이스 연동
- ❌ 실제 푸시 알림
- ❌ 결제 시스템

---

## 👥 타겟 사용자

### 1차 타겟: 가이드
- 한국 내 투어 가이드
- 다국적 관광객을 동시 인솔
- 다국어 구사 불가능
- 스마트폰 사용 가능

### 2차 타겟: 관광객
- 한국 방문 외국인 관광객
- 모국어로 투어 정보 수신 희망
- 영어 소통 어려움
- 스마트폰 사용 가능

---

## 🎨 화면 구성

### 📊 MVP 최종 화면 구성표 (8개 화면)

| 화면 번호 | 화면명 | 역할 | 주요 기능 | 상태 |
|---------|--------|------|----------|------|
| **0️⃣** | 로그인/회원가입 | 공통 | 소셜 로그인 (Google, Kakao), 프로필 입력 | ✅ 필수 |
| **1️⃣** | 역할 선택 | 공통 | 가이드/관광객 선택, 햄버거 메뉴, 언어 전환 | ✅ 필수 |
| **2️⃣** | 긴급 연락망 설정 | 공통 | 연락처 추가/관리 (최대 5명), 회원 검색 | ✅ 필수 |
| **3️⃣** | 가이드 홈 | 가이드 | 투어 목록, 새 투어 만들기, 히스토리 | ✅ 필수 |
| **4️⃣** | 투어 생성 | 가이드 | 투어 정보 입력, 코드/QR 생성, 공유 | ✅ 필수 |
| **5️⃣** | 투어 관리 | 가이드 | 메시지/참여자/통계 탭, 실시간 관리 | ✅ 필수 |
| **6️⃣** | 투어 참여 | 관광객 | 코드 입력, QR 스캔, 투어 목록 | ✅ 필수 |
| **7️⃣** | 관광객 메인 | 관광객 | 메시지 수신, 음성 재생, 빠른 요청 | ✅ 필수 |
| **8️⃣** | 빠른 요청 | 관광객 | 프리셋 버튼, 자유 입력, 긴급 알림 | ✅ 필수 |

**총 화면 수: 8개**  
**공통: 3개 | 가이드: 3개 | 관광객: 3개** (1️⃣ 역할 선택에서 분기)

---

### 전체 화면 목록 (8개)

#### 공통 플로우
- **0️⃣ 로그인/회원가입 화면**
  - 소셜 로그인 (Google, Kakao) UI
  - 첫 로그인 시 프로필 입력 (이름, 전화번호 선택, 언어)

- **1️⃣ 역할 선택 화면**
  - 가이드 / 관광객 선택
  - 햄버거 메뉴 (☰)
  - 언어 선택 버튼 (🌐)

- **2️⃣ 긴급 연락망 설정 화면**
  - 회원 검색 (이메일 기반)
  - 이메일 직접 입력
  - 등록된 연락처 관리 (최대 5명)
  - TourTalk 회원/비회원 구분 표시

#### 가이드 플로우
- **3️⃣ 가이드 메인 화면**
  - 활성 투어 목록 (진행중/대기중)
  - 새 투어 만들기 버튼
  - 완료된 투어 히스토리

- **4️⃣ 투어 생성 화면**
  - 투어 정보 입력 (이름, 날짜, 시간, 예상 인원)
  - 자동 다국어 지원 안내
  - 투어 코드/QR 자동 생성
  - 공유 기능 (카카오톡, 문자)

- **5️⃣ 가이드 투어 관리 화면**
  - **탭 1: 메시지** (음성/텍스트 입력 UI, 빠른 메시지, 받은 메시지)
  - **탭 2: 참여자** (언어별 그룹, 초대/확인/추방 UI)
  - **탭 3: 통계** (언어별 분포, 접속 상태, 활동 통계)

#### 관광객 플로우
- **6️⃣ 관광객 투어 참여 화면**
  - 투어 코드 입력 (6자리)
  - QR 코드 스캔 UI
  - 내 투어 목록

- **7️⃣ 관광객 메인 화면**
  - 실시간 메시지 수신 UI (번역된 텍스트)
  - 음성 재생 버튼 (🔊)
  - 빠른 요청 버튼 (질문, 사진)
  - 긴급 버튼 (🆘)

- **8️⃣ 빠른 요청 화면**
  - 프리셋 버튼 (화장실, 사진, 질문 등)
  - 자유 입력 (텍스트/음성)
  - 긴급 상황 알리기

---

## 🎮 인터랙션 요구사항

### MVP 0 목표
실제 API 연동 없이 **"작동하는 것처럼 보이는"** 인터랙티브 프로토타입 구현

### 핵심 원칙
- ✅ 사용자가 **"통역 기능이 있다"**는 것을 명확히 인식
- ✅ 화면 전환이 **자연스럽고 즉각적**
- ✅ 로딩 상태가 **실시간처럼** 느껴짐
- ❌ 실제 API 호출 없음 (가짜 데이터 사용)

---

### 필수 인터랙션 (5개)

#### 1️⃣ 화면 전환 ⭐⭐⭐
**목적:** 사용자 플로우 시각화

**동작:**
- 버튼 클릭 → 다음 화면으로 이동
- 뒤로가기 버튼 → 이전 화면
- URL 변경 (React Router)

**예시:**
```
[투어 시작하기] 클릭 
   ↓
가이드 메인 화면으로 이동
```

---

#### 2️⃣ 가짜 번역 기능 ⭐⭐⭐⭐⭐ (핵심!)
**목적:** 실시간 통역 기능 시연

**동작 시나리오:**

**가이드 화면에서:**
```
1. 가이드가 메시지 입력
   "10분 후 정문에서 만나요"
   
2. [전송] 버튼 클릭

3. 로딩 표시 (0.5초)
   "전송 중... 💬"
   
4. 완료 토스트
   "✅ 메시지 전송 완료!"
```

**관광객 화면에서 (자동):**
```
1. 0.5초 후 자동으로 번역된 메시지 표시

2. 사용자 언어에 따라 다르게 표시:
   🇻🇳 베트남어: "Chúng ta sẽ gặp nhau ở cổng chính sau 10 phút"
   🇺🇸 영어: "Let's meet at the main gate in 10 minutes"
   🇨🇳 중국어: "10分钟后在正门见面"
   🇯🇵 일본어: "10分後に正門で会いましょう"

3. [🔊 듣기] 버튼 활성화
```

**구현 방법:**
- 미리 번역된 문구 세트 사용 (실제 API 호출 X)
- setTimeout으로 0.5초 딜레이
- 관광객 선택 언어에 맞춰 표시

---

#### 3️⃣ 로딩 애니메이션 ⭐⭐⭐⭐
**목적:** 실시간 처리 중이라는 느낌

**적용 위치:**
- 메시지 전송 시
- 번역 처리 시
- QR 스캔 시
- 투어 생성 시

**디자인:**
```
💬 번역 중...
🔄 전송 중...
📷 스캔 중...
```

**시간:** 0.3초 ~ 1초

---

#### 4️⃣ 토스트 알림 ⭐⭐⭐
**목적:** 액션에 대한 즉각적인 피드백

**사용 케이스:**
```
✅ "메시지 전송 완료!"
✅ "투어가 생성되었습니다!"
✅ "투어 참여 완료!"
✅ "긴급 알림 전송됨"
❌ "투어 코드를 확인해주세요"
```

**위치:** 화면 상단 또는 하단
**지속 시간:** 2-3초

---

#### 5️⃣ 언어별 화면 차이 ⭐⭐⭐⭐
**목적:** 다국어 지원 시연

**동작:**
- 사용자가 언어 선택 (🌐 버튼)
- 전체 UI가 해당 언어로 변경
- 메시지도 해당 언어로 표시

**지원 언어 (MVP 0):**
```
🇰🇷 한국어 (기본)
🇺🇸 English
🇻🇳 Tiếng Việt
🇨🇳 简体中文 (중국어 간체)
🇹🇼 繁體中文 (중국어 번체)
🇯🇵 日本語
🇹🇭 ภาษาไทย (태국어)
🇮🇩 Bahasa Indonesia (인도네시아어)
```

---

### 선택적 인터랙션 (있으면 좋음)

#### 6️⃣ 타이핑 효과 ⭐⭐
메시지가 한 글자씩 나타나는 효과

#### 7️⃣ 음성 재생 애니메이션 ⭐⭐
[🔊 듣기] 버튼 클릭 시:
- "재생 중..." 표시
- 2-3초 후 "재생 완료"
- 실제 음성 재생은 없음

#### 8️⃣ QR 스캔 시뮬레이션 ⭐
[QR 코드 스캔] 버튼 클릭 시:
- 카메라 UI 표시
- 1초 로딩
- "투어 코드 인식됨!" 

#### 9️⃣ 실시간 참여자 변화 ⭐
통계 화면에서:
- 5초마다 참여자 수 변경 (15명 → 16명 → 17명)
- 접속 상태 변화 (🟢 → 🔴)

---

## ✨ 추가 기능 명세

### 1️⃣ 입력 유효성 검사

#### 프로필 화면 (0번 화면)
**이름 입력 검증:**
- ❌ 빈칸 입력 시 → 에러 메시지 표시
- ❌ 숫자만 입력 시 → 에러 메시지 표시
- ✅ 올바른 이름 입력 → 다음 단계 진행

**에러 메시지 (8개 언어):**
```javascript
invalidFormat: {
  ko: "올바른 이름을 입력해주세요",
  en: "Please enter a valid name",
  vi: "Vui lòng nhập tên hợp lệ",
  "zh-CN": "请输入有效的姓名",
  "zh-TW": "請輸入有效的姓名",
  ja: "有効な名前を入力してください",
  th: "กรุณากรอกชื่อที่ถูกต้อง",
  id: "Silakan masukkan nama yang valid"
}
```

**추가 동작:**
- userName이 "User"일 때 자동 채우지 않음
- 에러 발생 시에만 안내 문구 표시

---

#### 긴급 연락망 화면 (2번 화면)
**이메일 유효성 검사:**
- 정규식 검사: `/^[^\s@]+@[^\s@]+\.[^\s@]+$/`
- ❌ 형식 오류 → 에러 메시지 표시
- ✅ 올바른 형식 → 추가 진행

**에러 메시지 (8개 언어):**
```javascript
invalidEmail: {
  ko: "올바른 이메일 주소를 입력해주세요",
  en: "Please enter a valid email address",
  vi: "Vui lòng nhập địa chỉ email hợp lệ",
  "zh-CN": "请输入有效的电子邮件地址",
  "zh-TW": "請輸入有效的電子郵件地址",
  ja: "有効なメールアドレスを入力してください",
  th: "กรุณากรอกอีเมลที่ถูกต้อง",
  id: "Silakan masukkan alamat email yang valid"
}
```

**완료 버튼 검증:**
- 등록된 연락처 0개일 때 [완료] 클릭 시
- ⚠️ 경고 모달 표시: "긴급 연락망 리스트에 이메일을 추가하세요"

**경고 메시지 (8개 언어):**
```javascript
noContactWarning: {
  ko: "긴급 연락망 리스트에 이메일을 추가하세요",
  en: "Please add at least one emergency contact",
  vi: "Vui lòng thêm ít nhất một liên hệ khẩn cấp",
  "zh-CN": "请至少添加一个紧急联系人",
  "zh-TW": "請至少添加一個緊急聯絡人",
  ja: "緊急連絡先を少なくとも1つ追加してください",
  th: "กรุณาเพิ่มผู้ติดต่อฉุกเฉินอย่างน้อย 1 คน",
  id: "Silakan tambahkan minimal satu kontak darurat"
}
```

---

### 2️⃣ 햄버거 메뉴 구성 변경

**기존 PRD:**
```
☰ 메뉴:
- 🌐 Language
- ⚙️ Settings
- ❓ Help
- 📧 Contact
```

**변경 후:**
```
☰ 메뉴:
- ⚙️ Settings
- 🆘 긴급 연락망 설정 → /onboarding/emergency
- ❓ Help
- 📧 Contact
```

**변경 이유:**
- 언어 선택은 우측 상단 🌐 버튼으로 이동 (중복 제거)
- 사용자가 나중에 긴급 연락망을 수정할 수 있는 경로 제공

**메뉴 텍스트 (8개 언어):**
```javascript
emergencyContacts: {
  ko: "긴급 연락망 설정",
  en: "Emergency Contacts",
  vi: "Liên hệ khẩn cấp",
  "zh-CN": "紧急联系人",
  "zh-TW": "緊急聯絡人",
  ja: "緊急連絡先",
  th: "ผู้ติดต่อฉุกเฉิน",
  id: "Kontak Darurat"
}
```

---

### 3️⃣ 언어 전환 동기화

**프로필 화면 (0번)에서 언어 선택 시:**
- 즉시 전체 UI가 선택한 언어로 변경
- 헤더의 언어 표시도 동기화
- 에러 메시지도 선택한 언어로 표시

**구현 방법:**
```javascript
// useEffect로 언어 변경 감지
useEffect(() => {
  if (selectedLanguage) {
    changeLanguage(selectedLanguage);
  }
}, [selectedLanguage]);
```

---

### 4️⃣ 가이드 투어 관리 화면 강화

#### 받은 메시지 정렬
**현재:** 정렬 기준 없음  
**변경:** 최신 메시지가 맨 위로 (역순 정렬)

```javascript
// 메시지 정렬
const sortedMessages = [...receivedMessages].reverse();
```

---

#### 🔊 듣기 버튼 추가
**위치:** 받은 메시지 각각에 듣기 버튼 표시

**클릭 시 동작:**
1. 화면 중앙에 재생 팝업 표시
2. "재생 중..." 텍스트 + 마침표 애니메이션
   - "재생 중." → "재생 중.." → "재생 중..."
   - 400ms 간격으로 순환
3. [나가기] 버튼으로만 팝업 닫기
4. 실제 음성 재생 없음 (MVP 0)

**팝업 텍스트 (8개 언어):**
```javascript
playing: {
  ko: "재생 중",
  en: "Playing",
  vi: "Đang phát",
  "zh-CN": "播放中",
  "zh-TW": "播放中",
  ja: "再生中",
  th: "กำลังเล่น",
  id: "Memutar"
},
exit: {
  ko: "나가기",
  en: "Exit",
  vi: "Thoát",
  "zh-CN": "退出",
  "zh-TW": "退出",
  ja: "終了",
  th: "ออก",
  id: "Keluar"
}
```

---

#### 🎤 음성으로 안내하기 / 답장 버튼
**위치:** 
- 투어 관리 화면 상단: "🎤 음성으로 안내하기" 버튼
- 받은 메시지 각각: "답장" 버튼

**클릭 시 동작:**
1. 화면 중앙에 녹음 팝업 표시
2. "녹음중..." 텍스트 + 마침표 애니메이션
   - "녹음중." → "녹음중.." → "녹음중..."
   - 400ms 간격으로 순환
3. [완료] 버튼으로만 팝업 닫기
4. 실제 녹음 없음 (MVP 0)

**팝업 텍스트 (8개 언어):**
```javascript
recording: {
  ko: "녹음중",
  en: "Recording",
  vi: "Đang ghi âm",
  "zh-CN": "录音中",
  "zh-TW": "錄音中",
  ja: "録音中",
  th: "กำลังบันทึก",
  id: "Merekam"
},
complete: {
  ko: "완료",
  en: "Complete",
  vi: "Hoàn thành",
  "zh-CN": "完成",
  "zh-TW": "完成",
  ja: "完了",
  th: "เสร็จสิ้น",
  id: "Selesai"
}
```

---

### 5️⃣ 데이터 정합성: 투어별 참여자 배정

**문제:**
- 현재 PRD: tour.participants = 30 (숫자만)
- 실제 참여자 데이터와 불일치

**해결:**
```javascript
// Participant 타입 확장
interface Participant {
  id: string;
  name: string;
  language: string;
  status: 'online' | 'offline';
  tourId?: string;  // 추가!
}

// 투어별 참여자 배정
const fakeParticipants = [
  // A1234 투어: 15명
  { id: '1', name: 'Nguyen Van A', language: 'vi', status: 'online', tourId: 'A1234' },
  { id: '2', name: 'Tran Thi B', language: 'vi', status: 'online', tourId: 'A1234' },
  // ... (총 15명)
  
  // B5678 투어: 12명
  { id: '16', name: 'John Smith', language: 'en', status: 'online', tourId: 'B5678' },
  // ... (총 12명)
  
  // 미배정: 3명
  { id: '28', name: 'Kim Min-soo', language: 'ko', status: 'offline' },
  // ...
];

// 투어별 필터링 함수
const getParticipantsForTour = (tourId: string) => {
  return fakeParticipants.filter(p => p.tourId === tourId);
};
```

**적용 위치:**
1. **가이드 홈 화면 (3번):**
   - 투어 카드에 표시되는 인원수
   - `👥 ${getParticipantsForTour('A1234').length}/30명`

2. **투어 관리 화면 (5번) - 참여자 탭:**
   - 해당 투어 참여자만 표시
   - 언어별 그룹도 실제 데이터 기반

3. **투어 관리 화면 (5번) - 통계 탭:**
   - 언어별 분포: 실제 참여자 언어 집계
   - 접속 상태: 실제 참여자 status 집계
   - 비율 계산: 실제 데이터 기반

**예시 - A1234 투어 통계:**
```
총 15명

언어별 분포:
🇻🇳 베트남어: 5명 (33%)
🇺🇸 English: 4명 (27%)
🇰🇷 한국어: 3명 (20%)
🇨🇳 简体中文: 2명 (13%)
🇯🇵 日本語: 1명 (7%)

접속 상태:
🟢 온라인: 14명 (93%)
🔴 오프라인: 1명 (7%)
```

---

### 📝 미리 준비할 가짜 데이터

#### 1. 번역 문구 세트 (10개)

| 한국어 | 영어 | 베트남어 | 중국어 간체 | 중국어 번체 | 일본어 | 태국어 | 인도네시아어 |
|--------|------|----------|------------|------------|--------|--------|------------|
| 안녕하세요, 경복궁에 오신 것을 환영합니다 | Welcome to Gyeongbokgung Palace | Xin chào, chào mừng đến với Gyeongbokgung | 欢迎来到景福宫 | 歡迎來到景福宮 | 景福宮へようこそ | ยินดีต้อนรับสู่พระราชวังเคียงบกกุง | Selamat datang di Istana Gyeongbokgung |
| 10분 후 정문에서 만나요 | Let's meet at the main gate in 10 minutes | Chúng ta sẽ gặp nhau ở cổng chính sau 10 phút | 10分钟后在正门见面 | 10分鐘後在正門見面 | 10分後に正門で会いましょう | พบกันที่ประตูหลักใน 10 นาที | Mari bertemu di gerbang utama dalam 10 menit |
| 화장실은 오른쪽 건물에 있습니다 | The restroom is in the building on the right | Nhà vệ sinh ở tòa nhà bên phải | 洗手间在右边的建筑里 | 洗手間在右邊的建築裡 | トイレは右側の建物にあります | ห้องน้ำอยู่ในอาคารทางขวา | Toilet ada di gedung sebelah kanan |
| 지금부터 사진 촬영 시간입니다 | It's time for photos now | Bây giờ là thời gian chụp ảnh | 现在是拍照时间 | 現在是拍照時間 | 今から写真撮影の時間です | ถึงเวลาถ่ายรูปแล้ว | Sekarang waktunya foto |
| 30분 후 점심 식사 예정입니다 | Lunch is scheduled in 30 minutes | Bữa trưa được lên lịch sau 30 phút | 30分钟后预定午餐 | 30分鐘後預定午餐 | 30分後に昼食の予定です | มีกำหนดรับประทานอาหารกลางวันใน 30 นาที | Makan siang dijadwalkan dalam 30 menit |
| 이곳은 근정전입니다 | This is Geunjeongjeon Hall | Đây là Điện Geunjeongjeon | 这里是勤政殿 | 這裡是勤政殿 | ここは勤政殿です | นี่คือพระที่นั่งกึนจองจอน | Ini adalah Aula Geunjeongjeon |
| 질문 있으시면 언제든 말씀하세요 | Please feel free to ask if you have any questions | Hãy thoải mái hỏi nếu bạn có câu hỏi | 有问题请随时提问 | 有問題請隨時提問 | 質問があればいつでもおっしゃってください | หากมีคำถามสามารถถามได้ตลอดเวลา | Silakan bertanya jika ada pertanyaan |
| 5분 후 버스 출발합니다 | The bus will depart in 5 minutes | Xe buýt sẽ khởi hành sau 5 phút | 巴士将在5分钟后出发 | 巴士將在5分鐘後出發 | バスは5分後に出発します | รถบัสจะออกเดินทางใน 5 นาที | Bus akan berangkat dalam 5 menit |
| 다음 장소로 이동하겠습니다 | Let's move to the next location | Chúng ta sẽ di chuyển đến địa điểm tiếp theo | 我们将前往下一个地点 | 我們將前往下一個地點 | 次の場所に移動します | ไปยังสถานที่ถัดไป | Mari pindah ke lokasi berikutnya |
| 투어가 종료되었습니다. 감사합니다 | The tour has ended. Thank you | Tour đã kết thúc. Cảm ơn bạn | 游览结束了。谢谢 | 遊覽結束了。謝謝 | ツアーは終了しました。ありがとうございました | ทัวร์สิ้นสุดแล้ว ขอบคุณ | Tur telah berakhir. Terima kasih |

#### 2. 빠른 메시지 버튼 (관광객용)

| 한국어 | 영어 | 베트남어 | 중국어 간체 | 중국어 번체 | 일본어 |
|--------|------|----------|------------|------------|--------|
| 🚻 화장실 어디 있나요? | Where is the restroom? | Nhà vệ sinh ở đâu? | 洗手间在哪里？ | 洗手間在哪裡？ | トイレはどこですか？ |
| 📸 사진 찍어주세요 | Please take a photo | Chụp ảnh giúp tôi | 请给我拍照 | 請給我拍照 | 写真を撮ってください |
| 🤚 잠깐만요 | Wait a moment | Chờ một chút | 等一下 | 等一下 | ちょっと待って |
| ❓ 질문이 있어요 | I have a question | Tôi có câu hỏi | 我有问题 | 我有問題 | 質問があります |
| 🤒 몸이 안 좋아요 | I don't feel well | Tôi không khỏe | 我感觉不舒服 | 我感覺不舒服 | 体調が悪いです |
| 🙋 도와주세요 | Please help me | Giúp tôi | 请帮帮我 | 請幫幫我 | 助けてください |

#### 3. 가짜 투어 데이터

```javascript
const fakeTours = [
  {
    id: "A1234",
    name: "경복궁 오전 투어",
    guide: "김민수",
    date: "2026-02-10",
    time: "09:00",
    participants: 15,
    maxParticipants: 30,
    status: "진행중",
    languages: {
      ko: 5,
      en: 4,
      vi: 3,
      zh: 2,
      ja: 1
    }
  },
  {
    id: "B5678",
    name: "남산타워 야경 투어",
    guide: "김민수",
    date: "2026-02-10",
    time: "18:00",
    participants: 12,
    maxParticipants: 25,
    status: "대기중",
    languages: {
      ko: 4,
      en: 5,
      vi: 2,
      zh: 1,
      ja: 0
    }
  }
];
```

#### 4. 가짜 참여자 데이터 (투어별 배정)

```javascript
const fakeParticipants = [
  // A1234 투어: 15명
  // 베트남어 (5명)
  { id: '1', name: "Nguyen Van A", language: "vi", status: "online", tourId: "A1234" },
  { id: '2', name: "Tran Thi B", language: "vi", status: "online", tourId: "A1234" },
  { id: '3', name: "Le Van C", language: "vi", status: "offline", tourId: "A1234" },
  { id: '4', name: "Pham Thi D", language: "vi", status: "online", tourId: "A1234" },
  { id: '5', name: "Hoang Van E", language: "vi", status: "online", tourId: "A1234" },
  
  // 영어 (4명)
  { id: '6', name: "John Smith", language: "en", status: "online", tourId: "A1234" },
  { id: '7', name: "Emma Wilson", language: "en", status: "online", tourId: "A1234" },
  { id: '8', name: "Michael Brown", language: "en", status: "online", tourId: "A1234" },
  { id: '9', name: "Sarah Davis", language: "en", status: "offline", tourId: "A1234" },
  
  // 한국어 (3명)
  { id: '10', name: "김민수", language: "ko", status: "online", tourId: "A1234" },
  { id: '11', name: "이영희", language: "ko", status: "online", tourId: "A1234" },
  { id: '12', name: "박철수", language: "ko", status: "online", tourId: "A1234" },
  
  // 중국어 간체 (2명)
  { id: '13', name: "Wang Wei", language: "zh-CN", status: "online", tourId: "A1234" },
  { id: '14', name: "Li Ming", language: "zh-CN", status: "online", tourId: "A1234" },
  
  // 일본어 (1명)
  { id: '15', name: "Tanaka Yuki", language: "ja", status: "offline", tourId: "A1234" },
  
  // B5678 투어: 12명
  // 영어 (5명)
  { id: '16', name: "James Taylor", language: "en", status: "online", tourId: "B5678" },
  { id: '17', name: "Olivia Martin", language: "en", status: "online", tourId: "B5678" },
  { id: '18', name: "Robert Anderson", language: "en", status: "online", tourId: "B5678" },
  { id: '19', name: "Sophia White", language: "en", status: "online", tourId: "B5678" },
  { id: '20', name: "Daniel Harris", language: "en", status: "offline", tourId: "B5678" },
  
  // 한국어 (4명)
  { id: '21', name: "정수민", language: "ko", status: "online", tourId: "B5678" },
  { id: '22', name: "최지훈", language: "ko", status: "online", tourId: "B5678" },
  { id: '23', name: "강서연", language: "ko", status: "online", tourId: "B5678" },
  { id: '24', name: "윤준호", language: "ko", status: "offline", tourId: "B5678" },
  
  // 베트남어 (2명)
  { id: '25', name: "Do Van F", language: "vi", status: "online", tourId: "B5678" },
  { id: '26', name: "Bui Thi G", language: "vi", status: "online", tourId: "B5678" },
  
  // 중국어 번체 (1명)
  { id: '27', name: "Chen Li", language: "zh-TW", status: "online", tourId: "B5678" },
  
  // 미배정 참여자 (3명) - 테스트용
  { id: '28', name: "Test User 1", language: "ko", status: "offline" },
  { id: '29', name: "Test User 2", language: "en", status: "offline" },
  { id: '30', name: "Test User 3", language: "vi", status: "offline" }
];

// 투어별 참여자 필터링 함수
const getParticipantsForTour = (tourId) => {
  return fakeParticipants.filter(p => p.tourId === tourId);
};

// 언어별 그룹핑 함수
const groupByLanguage = (participants) => {
  return participants.reduce((acc, p) => {
    if (!acc[p.language]) acc[p.language] = [];
    acc[p.language].push(p);
    return acc;
  }, {});
};

// 통계 계산 함수
const calculateStats = (participants) => {
  const total = participants.length;
  const online = participants.filter(p => p.status === 'online').length;
  const offline = total - online;
  
  const languageStats = groupByLanguage(participants);
  const languageDistribution = Object.entries(languageStats).map(([lang, users]) => ({
    language: lang,
    count: users.length,
    percentage: Math.round((users.length / total) * 100)
  }));
  
  return {
    total,
    online,
    offline,
    onlinePercentage: Math.round((online / total) * 100),
    offlinePercentage: Math.round((offline / total) * 100),
    languageDistribution
  };
};
```

**사용 예시:**
```javascript
// A1234 투어 참여자 조회
const tourA1234Participants = getParticipantsForTour('A1234');
// 결과: 15명

// A1234 투어 통계
const statsA1234 = calculateStats(tourA1234Participants);
/*
{
  total: 15,
  online: 14,
  offline: 1,
  onlinePercentage: 93,
  offlinePercentage: 7,
  languageDistribution: [
    { language: 'vi', count: 5, percentage: 33 },
    { language: 'en', count: 4, percentage: 27 },
    { language: 'ko', count: 3, percentage: 20 },
    { language: 'zh-CN', count: 2, percentage: 13 },
    { language: 'ja', count: 1, percentage: 7 }
  ]
}
*/

// B5678 투어 참여자 조회
const tourB5678Participants = getParticipantsForTour('B5678');
// 결과: 12명
```

---

### 🎬 시연 시나리오 (데모용)

#### 시나리오 1: 가이드 → 관광객 메시징

```
1. 가이드 화면
   - "10분 후 정문에서 만나요" 입력
   - [전송] 클릭
   - "전송 중..." 0.5초
   - "✅ 메시지 전송 완료!"

2. 관광객 화면 (베트남어 사용자)
   - 0.5초 후 자동으로 메시지 수신
   - "Chúng ta sẽ gặp nhau ở cổng chính sau 10 phút"
   - [🔊 듣기] 버튼 활성화
   - 클릭 시 "재생 중..." 2초
```

#### 시나리오 2: 긴급 알림

```
1. 관광객 화면
   - [🆘 긴급] 버튼 클릭
   - 확인 모달 표시
   - [전송] 클릭
   
2. 효과
   - "전송 중..." 1초
   - "✅ 긴급 알림 전송 완료!"
   
3. 가이드 화면 상단
   - 🔴 알림 뱃지 표시
   - "Nguyen님의 긴급 요청"
```

#### 시나리오 3: 투어 참여

```
1. 관광객 투어 참여 화면
   - 코드 "A1234" 입력
   - [참여하기] 클릭
   
2. 투어 정보 모달
   - "경복궁 오전 투어" 표시
   - [참여] 버튼 클릭
   
3. 로딩 및 완료
   - "참여 중..." 1초
   - "✅ 투어 참여 완료!"
   - 관광객 메인 화면으로 이동
```

---

## ✨ 추가 기능 명세

### 1. 입력 유효성 검사

#### 프로필 화면 (0️⃣)
**이름 유효성 검사:**
- 빈칸 입력 시 → 에러 메시지 표시
- 숫자만 입력 시 → 에러 메시지 표시
- 에러 발생 시 "다음" 버튼 클릭 차단

**에러 메시지 (8개 언어):**

| 언어 | 메시지 |
|------|--------|
| 🇰🇷 한국어 | 올바른 이름을 입력해주세요 |
| 🇺🇸 English | Please enter a valid name |
| 🇻🇳 Tiếng Việt | Vui lòng nhập tên hợp lệ |
| 🇨🇳 简体中文 | 请输入有效的姓名 |
| 🇹🇼 繁體中文 | 請輸入有效的姓名 |
| 🇯🇵 日本語 | 有効な名前を入力してください |
| 🇹🇭 ภาษาไทย | กรุณากรอกชื่อที่ถูกต้อง |
| 🇮🇩 Bahasa Indonesia | Silakan masukkan nama yang valid |

**userName이 "User"일 때:**
- 이름 입력란을 빈칸으로 표시 (자동 채우지 않음)
- 사용자가 직접 입력하도록 유도

**언어 변경 동기화:**
- 프로필 화면에서 언어 변경 시 즉시 반영
- 헤더 및 전체 UI가 선택한 언어로 실시간 업데이트

---

#### 긴급 연락망 화면 (2️⃣)
**이메일 유효성 검사:**
- 이메일 형식 검증 (정규식 사용)
- 잘못된 형식 입력 시 → 에러 메시지 표시

**이메일 형식 검증 정규식:**
```javascript
const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
```

**0개 추가 시 완료 차단:**
- 긴급 연락망에 아무도 추가하지 않고 "완료" 클릭 시
- 경고 모달 표시: "긴급 연락망 리스트에 이메일을 추가하세요"

**에러 메시지 (8개 언어):**

| 언어 | 이메일 형식 에러 | 0개 추가 에러 |
|------|-----------------|--------------|
| 🇰🇷 한국어 | 올바른 이메일 형식을 입력해주세요 | 긴급 연락망 리스트에 이메일을 추가하세요 |
| 🇺🇸 English | Please enter a valid email format | Please add an email to the emergency contact list |
| 🇻🇳 Tiếng Việt | Vui lòng nhập định dạng email hợp lệ | Vui lòng thêm email vào danh sách liên hệ khẩn cấp |
| 🇨🇳 简体中文 | 请输入有效的邮箱格式 | 请添加邮箱到紧急联系人列表 |
| 🇹🇼 繁體中文 | 請輸入有效的郵箱格式 | 請添加郵箱到緊急聯絡人列表 |
| 🇯🇵 日本語 | 有効なメール形式を入力してください | 緊急連絡先リストにメールを追加してください |
| 🇹🇭 ภาษาไทย | กรุณากรอกรูปแบบอีเมลที่ถูกต้อง | กรุณาเพิ่มอีเมลในรายชื่อติดต่อฉุกเฉิน |
| 🇮🇩 Bahasa Indonesia | Silakan masukkan format email yang valid | Silakan tambahkan email ke daftar kontak darurat |

---

### 2. 햄버거 메뉴 구성 변경

**기존 PRD:**
```
☰ 메뉴
├── 🌐 Language
├── ⚙️ Settings
├── ❓ Help
└── 📧 Contact
```

**변경 후:**
```
☰ 메뉴
├── ⚙️ Settings
├── 🆘 긴급 연락망 설정
├── ❓ Help
└── 📧 Contact
```

**변경 이유:**
- Language 항목 제거 → 우측 상단 언어 버튼(🌐)으로 이동
- 긴급 연락망 설정 추가 → 사용자가 나중에 수정할 수 있도록

**긴급 연락망 설정 링크:**
- 경로: `/onboarding/emergency`
- 기능: 기존 연락처 수정/삭제/추가

---

### 3. 데이터 정합성 (투어별 참여자)

**문제:**
- PRD에서 투어 A1234가 "30명"이라고 표시
- 하지만 실제 참여자 목록과 통계가 일치하지 않음

**해결:**
```javascript
// Participant 타입 확장
interface Participant {
  id: string;
  name: string;
  language: string;
  status: 'online' | 'offline';
  tourId?: string;  // 추가
}

// 가짜 참여자 데이터
const fakeParticipants = [
  // A1234 투어: 15명
  { id: '1', name: 'Nguyen Van A', language: 'vi', status: 'online', tourId: 'A1234' },
  { id: '2', name: 'Tran Thi B', language: 'vi', status: 'online', tourId: 'A1234' },
  // ... (총 15명)
  
  // B5678 투어: 12명
  { id: '16', name: 'John Smith', language: 'en', status: 'online', tourId: 'B5678' },
  // ... (총 12명)
  
  // 미배정: 3명
  { id: '28', name: 'No Tour User', language: 'ko', status: 'offline' },
];

// 투어별 참여자 필터링
const getParticipantsForTour = (tourId: string) => {
  return fakeParticipants.filter(p => p.tourId === tourId);
};
```

**적용 화면:**
- **3️⃣ 가이드 홈:** 투어 카드에 실제 참여자 수 표시
- **5️⃣ 투어 관리 - 참여자 탭:** 해당 투어 참여자만 표시
- **5️⃣ 투어 관리 - 통계 탭:** 실제 참여자 기반 계산
  - 언어별 분포
  - 접속 상태 (온라인/오프라인)
  - 비율 계산

**예시 (A1234 투어 - 15명):**
- 🇻🇳 베트남어: 5명 (33%)
- 🇺🇸 English: 4명 (27%)
- 🇰🇷 한국어: 3명 (20%)
- 🇨🇳 简体中文: 2명 (13%)
- 🇯🇵 日本語: 1명 (7%)

---

### 4. 가이드 투어 관리 화면 강화 (5️⃣)

#### 4-1. 받은 메시지 정렬
**기존:** 정렬 기준 없음  
**변경:** 최신 메시지가 맨 위로 (역순 정렬)

```javascript
// 메시지 정렬
const sortedMessages = [...messages].sort((a, b) => 
  new Date(b.timestamp) - new Date(a.timestamp)
);
```

**효과:**
- 가장 최근 질문을 먼저 확인
- 빠른 응답 가능

---

#### 4-2. 받은 메시지에 🔊 듣기 버튼 추가

**기능:**
- 관광객이 보낸 메시지 옆에 🔊 듣기 버튼 표시
- 클릭 시 음성으로 재생 (시뮬레이션)

**재생 UX:**
```
┌─────────────────────┐
│                     │
│   🔊 재생 중...     │
│                     │
│   [나가기]          │
│                     │
└─────────────────────┘

- 화면 중앙 팝업 (가로 70%, max-width 300px, 정사각형)
- 마침표 애니메이션: "재생 중." → "재생 중.." → "재생 중..." (400ms 간격)
- "나가기" 버튼으로만 닫기 가능
- 2-3초 후 자동으로 팝업 닫힘
```

**i18n 추가 (8개 언어):**

| 언어 | "재생 중..." |
|------|------------|
| 🇰🇷 한국어 | 재생 중 |
| 🇺🇸 English | Playing |
| 🇻🇳 Tiếng Việt | Đang phát |
| 🇨🇳 简体中文 | 播放中 |
| 🇹🇼 繁體中文 | 播放中 |
| 🇯🇵 日本語 | 再生中 |
| 🇹🇭 ภาษาไทย | กำลังเล่น |
| 🇮🇩 Bahasa Indonesia | Memutar |

---

#### 4-3. 음성으로 안내하기 버튼

**기능:**
- 가이드가 음성으로 메시지 전송 (시뮬레이션)
- 클릭 시 녹음 중 팝업 표시

**녹음 UX:**
```
┌─────────────────────┐
│                     │
│   🎤 녹음 중...     │
│                     │
│   [완료]            │
│                     │
└─────────────────────┘

- 화면 중앙 팝업 (듣기와 동일한 스타일)
- 마침표 애니메이션: "녹음 중." → "녹음 중.." → "녹음 중..." (400ms 간격)
- "완료" 버튼으로만 닫기 가능
- 완료 클릭 시 메시지 전송 (가짜)
```

**i18n 추가 (8개 언어):**

| 언어 | "녹음 중..." | "완료" | "나가기" |
|------|------------|--------|---------|
| 🇰🇷 한국어 | 녹음 중 | 완료 | 나가기 |
| 🇺🇸 English | Recording | Done | Exit |
| 🇻🇳 Tiếng Việt | Đang ghi âm | Hoàn thành | Thoát |
| 🇨🇳 简体中文 | 录音中 | 完成 | 退出 |
| 🇹🇼 繁體中文 | 錄音中 | 完成 | 退出 |
| 🇯🇵 日本語 | 録音中 | 完了 | 終了 |
| 🇹🇭 ภาษาไทย | กำลังบันทึก | เสร็จสิ้น | ออก |
| 🇮🇩 Bahasa Indonesia | Merekam | Selesai | Keluar |

---

#### 4-4. 답장 버튼

**기능:**
- 받은 메시지마다 "답장" 버튼 추가
- 클릭 시 녹음 중 팝업 표시 (4-3과 동일)

**플로우:**
```
1. 관광객 메시지: "화장실 어디 있나요?"
2. 가이드가 [답장] 클릭
3. 🎤 녹음 중 팝업 표시
4. [완료] 클릭
5. 답장 메시지 전송 (가짜)
```

---

## 📱 화면 와이어프레임 

0️⃣ 로그인/회원가입 화면
┌─────────────────────────┐
│                         │
│      TourTalk           │
│      🌏 🗣️ 💬          │
│                         │
│   다국어 실시간 통역    │
│   투어 가이드 플랫폼    │
│                         │
│                         │
│                         │
│                         │
│                         │
│  ─────────────────────  │
│                         │
│  [🌐 Google로 시작하기] │
│                         │
│  [💬 카카오로 시작하기] │
│                         │
│                         │
│  ─────────────────────  │
│                         │
│  로그인 시 서비스 이용약관│
│  및 개인정보처리방침에   │
│  동의하는 것으로 간주됩니다│
│                         │
└─────────────────────────┘
↓ (첫 로그인 시)
┌─────────────────────────┐
│ 환영합니다! 👋          │
├─────────────────────────┤
│                         │
│  처음 오셨네요!         │
│  프로필을 설정해주세요  │
│                         │
│  이름                   │
│  [홍길동___________]    │
│  (자동 입력됨)          │
│                         │
│  연락 방법 (선택)       │
│  [📧 이메일로만 사용]   │
│  [📱 전화번호 추가]     │
│                         │
│  전화번호 (선택사항)    │
│  [+82 10-1234-5678__]   │
│  💡 긴급 상황 대비용    │
│                         │
│  사용 언어              │
│  [🇰🇷 한국어 ▼]         │
│                         │
│ [다음]                  │
└─────────────────────────┘

1️⃣ 역할 선택 화면
┌─────────────────────────┐
│ ☰  TourTalk      🌐 한국어│
├─────────────────────────┤
│                         │
│  어떻게 이용하시나요?   │
│                         │
│ ┌─────────────────────┐ │
│ │                     │ │
│ │       🎤            │ │
│ │                     │ │
│ │    투어 가이드       │ │
│ │                     │ │
│ │  투어를 진행하고     │ │
│ │  관광객을 인솔합니다 │ │
│ │                     │ │
│ └─────────────────────┘ │
│                         │
│ ┌─────────────────────┐ │
│ │                     │ │
│ │       👥            │ │
│ │                     │ │
│ │    관광객           │ │
│ │                     │ │
│ │  투어에 참여하고     │ │
│ │  정보를 받습니다     │ │
│ │                     │ │
│ └─────────────────────┘ │
│                         │
│  💡 나중에 변경 가능    │
└─────────────────────────┘
↓ 햄버거 메뉴 (☰) 클릭 시
┌─────────────────────────┐
│ ☰  TourTalk      🌐 한국어│
├─────────────────────────┤
│ ┌───────────────────┐   │
│ │ ⚙️ Settings       │   │
│ │ 🆘 긴급 연락망 설정│   │
│ │ ❓ Help           │   │
│ │ 📧 Contact        │   │
│ └───────────────────┘   │
│                         │
│  (화면 내용...)         │
└─────────────────────────┘
↓ 언어 버튼 (🌐 한국어) 클릭 시
┌─────────────────────────┐
│  언어 선택              │
├─────────────────────────┤
│                         │
│  자주 사용되는 언어      │
│                         │
│  [🇰🇷 한국어 - Korean]  │
│  [🇺🇸 English]          │
│  [🇻🇳 Tiếng Việt]       │
│  [🇨🇳 简体中文 - 간체]  │
│  [🇹🇼 繁體中文 - 번체]  │
│  [🇯🇵 日本語 - Japanese] │
│                         │
│  더 많은 언어            │
│  [▼ 전체 보기]          │
│                         │
│ [확인]                  │
└─────────────────────────┘

2️⃣ 긴급 연락망 설정 화면 (🔒 보안 강화)
┌─────────────────────────┐
│ ← 긴급 연락망 설정  🌐  │
├─────────────────────────┤
│                         │
│  🆘 긴급 상황 시        │
│     연락받을 사람을     │
│     등록해주세요        │
│                         │
│  ─────────────────────  │
│                         │
│  회원 검색              │
│  [🔍 정확한 이메일 입력]│
│                         │
│  💡 정확한 이메일 주소만│
│     검색됩니다          │
│                         │
│  또는                   │
│                         │
│  [➕ 이메일 직접 추가]   │
│                         │
│  ─────────────────────  │
│                         │
│  등록된 연락처 (2/5)    │
│                         │
│  ┌───────────────────┐ │
│  │ 👤 김엄마          │ │
│  │ ✓ 회원            │ │
│  │ mom@email.com  [×]│ │
│  └───────────────────┘ │
│                         │
│  ┌───────────────────┐ │
│  │ 👤 John (친구)    │ │
│  │ 비회원            │ │
│  │ john@email.com [×]│ │
│  └───────────────────┘ │
│                         │
│  [나중에]    [완료]     │
└─────────────────────────┘
↓ [회원 검색] 선택 시 (🔒 보안 강화)
┌─────────────────────────┐
│ ← 회원 검색             │
├─────────────────────────┤
│                         │
│  이메일로 검색          │
│  ┌─────────────────┐   │
│  │ kim@email.com   │ 🔍│
│  └─────────────────┘   │
│                         │
│  ⚠️ 개인정보 보호를 위해│
│     정확히 일치하는     │
│     이메일만 검색됩니다 │
│                         │
│  검색 결과:             │
│                         │
│ ┌─────────────────────┐ │
│ │ 👤 Kim Young-hee    │ │
│ │ 📧 kim@email.com    │ │
│ │ ✅ TourTalk 회원    │ │
│ │        [추가하기]   │ │
│ └─────────────────────┘ │
│                         │
│  🔒 보안: minkim@email.com│
│     등 부분일치 결과는  │
│     표시되지 않습니다   │
│                         │
│  검색 결과가 없나요?    │
│  [📧 이메일 직접 추가]  │
│                         │
└─────────────────────────┘
↓ [이메일 직접 추가] 선택 시
┌─────────────────────────┐
│ ← 이메일로 추가         │
├─────────────────────────┤
│                         │
│  연락처 정보            │
│                         │
│  관계                   │
│  [엄마___________▼]     │
│                         │
│  이름                   │
│  [________________]     │
│                         │
│  이메일                 │
│  [________________]     │
│                         │
│  💡 TourTalk 미가입자는 │
│     이메일로만 알림     │
│     수신 가능합니다     │
│                         │
│ [취소]         [추가]   │
└─────────────────────────┘
↓ 추가 완료 후
┌─────────────────────────┐
│ ☰ 긴급 연락망 관리  🌐  │
├─────────────────────────┤
│                         │
│  등록된 연락처 (2/5)    │
│                         │
│ ┌─────────────────────┐ │
│ │ 👤 Kim Young-hee    │ │
│ │ 📧 kim@email.com    │ │
│ │ ✅ 앱 푸시 가능     │ │
│ │    관계: 엄마        │ │
│ │          [수정][삭제]│ │
│ └─────────────────────┘ │
│                         │
│ ┌─────────────────────┐ │
│ │ 👤 외부 연락처      │ │
│ │ 📧 friend@email.com │ │
│ │ 📧 이메일만 가능    │ │
│ │    관계: 친구        │ │
│ │          [수정][삭제]│ │
│ └─────────────────────┘ │
│                         │
│ [➕ 새 연락처 추가]     │
│                         │
│ 💡 TourTalk 회원이면    │
│    앱 푸시 알림 가능    │
│    비회원은 이메일만    │
│                         │
│ ─────────────────────   │
│                         │
│ [완료]                  │
└─────────────────────────┘
↓ [완료] 클릭
┌─────────────────────────┐
│ ✅ 설정 완료!           │
├─────────────────────────┤
│                         │
│  모든 준비가 완료되었습니다│
│                         │
│  이제 TourTalk을        │
│  시작해보세요!          │
│                         │
│                         │
│ [시작하기]              │
└─────────────────────────┘

3️⃣ 가이드 홈 화면
┌─────────────────────────┐
│ ☰ TourTalk Guide  ⚙️ 🆘 │
├─────────────────────────┤
│                         │
│  안녕하세요, 김민수님!  │
│                         │
│  활성 투어              │
│                         │
│ ┌─────────────────────┐ │
│ │ 경복궁 오전 투어    │ │
│ │ #A1234              │ │
│ │ 👥 15/30명          │ │
│ │ 🟢 진행중           │ │
│ │ [투어 열기]         │ │
│ └─────────────────────┘ │
│                         │
│ ┌─────────────────────┐ │
│ │ 남산타워 오후 투어  │ │
│ │ #B5678              │ │
│ │ 👥 12/25명          │ │
│ │ ⏸️ 대기중           │ │
│ │ [투어 열기]         │ │
│ └─────────────────────┘ │
│                         │
│                         │
│ [➕ 새 투어 만들기]     │
│                         │
│ ─────────────────────   │
│                         │
│  완료된 투어 (3)        │
│  [더보기 ▼]            │
│                         │
└─────────────────────────┘

4️⃣ 투어 생성 화면 (가이드용)
┌─────────────────────────┐
│ ← 새 투어 만들기    🌐  │
├─────────────────────────┤
│                         │
│  투어 이름              │
│  [경복궁 오전 투어____] │
│                         │
│  투어 날짜              │
│  [2026-02-10 📅]        │
│                         │
│  시작 시간              │
│  [09:00 🕐]             │
│                         │
│  예상 인원              │
│  [○ ~10  ○ ~20         │
│   ● ~30  ○ 30+]        │
│                         │
│  💡 자동 다국어 지원    │
│     모든 참가자가       │
│     선택한 언어로       │
│     실시간 번역됩니다   │
│                         │
│ [투어 생성하기]          │
└─────────────────────────┘
↓ (생성 완료 후)
┌─────────────────────────┐
│ ✅ 투어 생성 완료!      │
├─────────────────────────┤
│                         │
│  관광객을 초대하세요    │
│                         │
│  투어 코드              │
│  ┌─────────────────┐   │
│  │    A1234        │   │
│  └─────────────────┘   │
│  [📋 복사하기]          │
│                         │
│  QR 코드                │
│  ┌─────────────────┐   │
│  │  ████  ██  ████ │   │
│  │  ██  ████  ██   │   │
│  │  ████  ██  ████ │   │
│  └─────────────────┘   │
│                         │
│  [💾 이미지 저장]       │
│  [📤 카카오톡 공유]     │
│  [📤 문자 발송]         │
│                         │
│ ─────────────────────   │
│                         │
│ [투어 시작하기]          │
└─────────────────────────┘

5️⃣ 가이드 투어 관리 화면
💬 메시지 탭
┌─────────────────────────┐
│ ← 경복궁 투어 (#A1234)  │
│         🔴 LIVE  ⚙️ 🆘  │
├─────────────────────────┤
│ [💬 메시지] [👥 참여자] [📊 통계]│
├─────────────────────────┤
│                         │
│ 📊 15/30명 🟢           │
│ 🇻🇳 10 🇺🇸 8 🇰🇷 5     │
│                         │
│ ─── 메시지 전송 ───     │
│                         │
│ [🎤 음성으로 안내하기]  │
│                         │
│ ┌─────────────────────┐ │
│ │ 텍스트 입력...      │ │
│ │ [전송]              │ │
│ └─────────────────────┘ │
│                         │
│ ─── 빠른 메시지 ───     │
│ [📍 집합 장소 안내]     │
│ [🚌 버스 출발 10분전]   │
│ [🍽️ 식사 시간]         │
│ [⏰ 자유 시간 30분]     │
│ [⚠️ 긴급 공지]         │
│                         │
│ ─── 받은 메시지 ───     │
│ (최신순 정렬)          │
│                         │
│ 🔴 John: 사진 찍어주세요│
│    👍 알겠습니다        │
│    [🔊 듣기] [답장]    │
│                         │
│ 🟡 Nguyen: 화장실 어디?│
│    📍 근정전 옆         │
│    [🔊 듣기] [답장]    │
│                         │
└─────────────────────────┘
↓ [👥 참여자] 탭 클릭
┌─────────────────────────┐
│ ← 경복궁 투어 (#A1234)  │
│         🔴 LIVE  ⚙️ 🆘  │
├─────────────────────────┤
│ [💬 메시지] [👥 참여자] [📊 통계]│
├─────────────────────────┤
│                         │
│ 참여자 관리 (15/30)     │
│                         │
│ [➕ 참여자 초대하기]    │
│ [📋 명단 내보내기]      │
│                         │
│ ─── 언어별 그룹 ───     │
│                         │
│ 🇻🇳 베트남어 (5명) ▼   │
│ ┌─────────────────────┐ │
│ │ 🟢 Nguyen Van A     │ │
│ │    [💬] [🚫 추방]   │ │
│ ├─────────────────────┤ │
│ │ 🟢 Tran Thi B       │ │
│ │    [💬] [🚫 추방]   │ │
│ ├─────────────────────┤ │
│ │ 🔴 Le Van C         │ │
│ │    [💬] [🚫 추방]   │ │
│ │    (오프라인)        │ │
│ └─────────────────────┘ │
│                         │
│ 🇺🇸 English (4명) ▼    │
│ 🇰🇷 한국어 (3명) ▼     │
│ 🇨🇳 简体中文 (2명) ▼   │
│ 🇯🇵 日本語 (1명) ▼     │
│                         │
│ ─────────────────────   │
│                         │
│ [⏸️ 투어 일시정지]      │
│ [✅ 투어 종료]          │
└─────────────────────────┘
↓ [📊 통계] 탭 클릭
┌─────────────────────────┐
│ ← 경복궁 투어 (#A1234)  │
│         🔴 LIVE  ⚙️ 🆘  │
├─────────────────────────┤
│ [💬 메시지] [👥 참여자] [📊 통계]│
├─────────────────────────┤
│                         │
│ 참여자 현황             │
│                         │
│  총 15명                │
│                         │
│  언어별 분포:           │
│  🇻🇳 베트남어: 5명 (33%)│
│  🇺🇸 English: 4명 (27%) │
│  🇰🇷 한국어: 3명 (20%)  │
│  🇨🇳 简体中文: 2명(13%) │
│  🇯🇵 日本語: 1명 (7%)   │
│                         │
│  💡 실시간 자동 번역    │
│                         │
│ ─────────────────────   │
│                         │
│  접속 상태              │
│  🟢 온라인: 14명 (93%) │
│  🔴 오프라인: 1명 (7%) │
│                         │
│ ─────────────────────   │
│                         │
│  활동 통계              │
│  총 메시지: 45건        │
│  질문 접수: 12건        │
│  긴급 알림: 0건         │
│                         │
└─────────────────────────┘

6️⃣ 관광객 투어 참여 화면
┌─────────────────────────┐
│ ☰ TourTalk         ⚙️ 🆘│
├─────────────────────────┤
│                         │
│  안녕하세요, Nguyen님!  │
│                         │
│  투어에 참여하세요      │
│                         │
│ ─────────────────────   │
│                         │
│  투어 코드 입력         │
│  ┌─────────────────┐   │
│  │ A 1 2 3 4       │   │
│  └─────────────────┘   │
│                         │
│  [참여하기]             │
│                         │
│ ─────────────────────   │
│                         │
│  또는                   │
│                         │
│  [📷 QR 코드 스캔]      │
│                         │
│                         │
│ ─────────────────────   │
│                         │
│  내 투어 (1)            │
│ ┌─────────────────────┐ │
│ │ 경복궁 오전 투어    │ │
│ │ 가이드: Kim MinSoo  │ │
│ │ [입장하기]          │ │
│ └─────────────────────┘ │
│                         │
└─────────────────────────┘
↓ 코드 입력/QR 스캔 후
┌─────────────────────────┐
│ 투어 정보 확인          │
├─────────────────────────┤
│                         │
│  경복궁 오전 투어       │
│  Guide: Kim MinSoo      │
│                         │
│  📅 2026-02-10          │
│  🕐 09:00 시작          │
│  📍 경복궁 광화문       │
│                         │
│  👥 15명 참여중         │
│                         │
│ ─────────────────────   │
│                         │
│  참여하시겠습니까?      │
│                         │
│ [취소]        [참여]    │
└─────────────────────────┘

7️⃣ 관광객 메인 화면
┌─────────────────────────┐
│ ← Gyeongbokgung Tour    │
│    (#A1234)   ⚙️ 🆘     │
├─────────────────────────┤
│ 🎤 Kim MinSoo 🟢        │
│ 👥 15명                 │
├─────────────────────────┤
│                         │
│ 🔊 Chúng ta sẽ tập trung│
│    tại cổng chính sau   │
│    10 phút              │
│    (10분 후 정문에서 만나요)│
│    📢 5분 전  [🔊 듣기]  │
│                         │
│ 🔊 Đây là Điện Geunjeon,│
│    cung điện chính nơi  │
│    vua làm việc...      │
│    (이곳은 근정전입니다...)│
│    📢 12분 전 [🔊 듣기]  │
│                         │
│ 🔊 Bây giờ là thời gian │
│    chụp ảnh tự do       │
│    (자유 시간입니다)     │
│    📢 25분 전 [🔊 듣기]  │
│                         │
│                         │
│                         │
├─────────────────────────┤
│ [🎤 질문] [📷 사진] [💬 더보기]│
│                         │
│      [🆘 긴급 상황]     │
└─────────────────────────┘

8️⃣ 빠른 요청 화면 (관광객용)
┌─────────────────────────┐
│ ← Gửi yêu cầu      🌐 🆘│
├─────────────────────────┤
│                         │
│  자주 쓰는 요청          │
│                         │
│  [🚻 Nhà vệ sinh ở đâu?]│
│     화장실 어디 있나요?  │
│                         │
│  [📸 Chụp ảnh giúp tôi] │
│     사진 찍어주세요      │
│                         │
│  [🤚 Chờ một chút]      │
│     잠깐만요            │
│                         │
│  [❓ Tôi có câu hỏi]    │
│     질문이 있어요        │
│                         │
│  [🤒 Tôi không khỏe]    │
│     몸이 안 좋아요       │
│                         │
│  [🙋 Giúp tôi]          │
│     도와주세요           │
│                         │
│ ─────────────────────   │
│                         │
│  직접 입력하기           │
│  ┌─────────────────┐   │
│  │                 │   │
│  └─────────────────┘   │
│  [🎤]         [전송]    │
│                         │
│ ─────────────────────   │
│                         │
│  [🆘 긴급 상황 알리기]  │
└─────────────────────────┘
↓ [🆘] 버튼 클릭
┌─────────────────────────┐
│ ⚠️ 긴급 알림            │
├─────────────────────────┤
│                         │
│  긴급 알림을 보내시겠습니까?│
│                         │
│  📱 알림 대상:          │
│  • 엄마 (✅ 앱 푸시)    │
│  • 아빠 (✅ 앱 푸시)    │
│  • 친구 (📧 이메일)     │
│  • 가이드 (Kim MinSoo)  │
│                         │
│  📍 현재 위치 정보와    │
│     투어 정보가         │
│     함께 전송됩니다     │
│                         │
│ ─────────────────────   │
│                         │
│  상황 선택 (선택사항)   │
│  [🤒 아파요]            │
│  [😰 길을 잃었어요]     │
│  [🆘 도와주세요]        │
│  [기타]                 │
│                         │
│  추가 메시지:           │
│  ┌─────────────────┐   │
│  │                 │   │
│  └─────────────────┘   │
│                         │
│ [취소]      [🚨 전송]   │
└─────────────────────────┘


---

## 🔄 사용자 플로우

### 가이드 여정
```
로그인 
  → 프로필 입력 
  → 역할 선택 (가이드) 
  → 긴급 연락망 설정 
  → 가이드 홈
  → 새 투어 만들기 
  → 투어 코드/QR 생성 
  → 투어 관리 (메시지/참여자/통계 탭)
```

### 관광객 여정
```
로그인 
  → 프로필 입력 
  → 역할 선택 (관광객) 
  → 긴급 연락망 설정 
  → 투어 참여 (코드/QR 입력)
  → 관광객 메인 (메시지 수신)
  → 빠른 요청 / 긴급 알림
```

---

## 💻 기술 스택

### Frontend
| 기술 | 버전 | 용도 |
|------|------|------|
| **Next.js** | 16.1.6 | React 프레임워크 |
| **React** | 19.2.4 | UI 라이브러리 |
| **TypeScript** | 5.9.3 | 타입 안정성 |
| **Tailwind CSS** | 4.0.0 | 스타일링 |

### UI 라이브러리
| 기술 | 버전 | 용도 |
|------|------|------|
| **lucide-react** | latest | 아이콘 |
| **react-qr-code** | latest | QR 코드 생성 |
| **react-hot-toast** | latest | 알림/토스트 |

### 개발 도구
| 기술 | 버전 | 용도 |
|------|------|------|
| **ESLint** | latest | 코드 린팅 |
| **PostCSS** | latest | CSS 처리 |

### 배포
| 플랫폼 | 용도 |
|--------|------|
| **Vercel** | 호스팅 및 자동 배포 |
| **GitHub** | 버전 관리 |

### 버전 정책
- **Next.js 16.1.6**: 2026년 2월 최신 안정화 버전
- **React 19.2.4**: Next.js 16 호환 최신 버전
- **TypeScript 5.9.3**: 최신 안정화 버전  
- **Tailwind CSS 4.0.0**: 최신 메이저 버전 (v4)
- 기타 라이브러리: npm 최신 안정화 버전 사용

### 📚 참고 문서
- Next.js: https://nextjs.org/docs
- React: https://react.dev/
- TypeScript: https://www.typescriptlang.org/
- Tailwind CSS v4: https://tailwindcss.com/docs
- Tailwind v4 마이그레이션: https://tailwindcss.com/docs/upgrade-guide

---

## 📁 프로젝트 구조

```
tourtalk-mvp/
├── app/
│   ├── page.tsx                      # 0️⃣ 로그인 화면
│   ├── layout.tsx                    # 루트 레이아웃
│   ├── globals.css                   # 글로벌 스타일
│   │
│   ├── onboarding/
│   │   ├── profile/page.tsx          # 프로필 입력
│   │   ├── role/page.tsx             # 1️⃣ 역할 선택
│   │   └── emergency/page.tsx        # 2️⃣ 긴급 연락망
│   │
│   ├── guide/
│   │   ├── page.tsx                  # 3️⃣ 가이드 홈
│   │   ├── create/page.tsx           # 4️⃣ 투어 생성
│   │   └── tour/
│   │       └── [id]/page.tsx         # 5️⃣ 투어 관리
│   │
│   └── tourist/
│       ├── page.tsx                  # 6️⃣ 투어 참여
│       ├── tour/
│       │   └── [id]/page.tsx         # 7️⃣ 관광객 메인
│       └── request/page.tsx          # 8️⃣ 빠른 요청
│
├── components/
│   ├── layout/
│   │   ├── Header.tsx                # 헤더 (햄버거, 언어선택)
│   │   ├── Hamburger.tsx             # 햄버거 메뉴
│   │   └── LanguageSelector.tsx      # 언어 선택 모달
│   │
│   ├── ui/
│   │   ├── Button.tsx                # 버튼 컴포넌트
│   │   ├── Card.tsx                  # 카드 컴포넌트
│   │   ├── Input.tsx                 # 입력 필드
│   │   └── Badge.tsx                 # 뱃지 (상태 표시)
│   │
│   └── modals/
│       ├── EmergencyModal.tsx        # 긴급 알림 모달
│       └── ConfirmModal.tsx          # 확인 모달
│
├── lib/
│   ├── mockData.ts                   # Mock 데이터
│   ├── i18n.ts                       # 다국어 텍스트
│   └── utils.ts                      # 유틸리티 함수
│
├── types/
│   └── index.ts                      # TypeScript 타입 정의
│
├── public/
│   ├── images/                       # 이미지 파일
│   └── favicon.ico                   # 파비콘
│
├── .env.local                        # 환경 변수 (로컬)
├── .gitignore
├── package.json
├── tsconfig.json
├── tailwind.config.ts
├── postcss.config.mjs
├── next.config.ts
└── README.md
```

---

## 🎨 디자인 가이드

### 컬러 팔레트
```typescript
// Tailwind CSS 기본 색상 사용
Primary: blue-500 (#3B82F6), blue-600 (#2563EB)
Success: green-500 (#22C55E)
Warning: yellow-400 (#FACC15)
Danger: red-500 (#EF4444)
Emergency: red-600 (#DC2626)
Gray Scale: gray-50 ~ gray-900
Background: white, gray-50
```

### 타이포그래피
```css
폰트: 시스템 기본 폰트
  -apple-system, BlinkMacSystemFont, "Segoe UI", 
  "Noto Sans KR", sans-serif

제목 (h1): text-4xl (36px), font-bold
부제목 (h2): text-2xl (24px), font-bold
본문: text-base (16px), font-normal
작은 텍스트: text-sm (14px)
```

### 아이콘
- **Lucide Icons** 사용: https://lucide.dev
- **Emoji** 보조 사용: 🎤 👥 🆘 📍 🔊 등

### 반응형 브레이크포인트
```typescript
sm: 640px   // 모바일
md: 768px   // 태블릿
lg: 1024px  // 데스크톱
xl: 1280px  // 대형 데스크톱
```

---

## 🔑 핵심 기능 명세

### 1. 다국어 UI (시각적 표시만)
- 언어 선택 시 화면의 텍스트 변경 (하드코딩)
- 지원 언어: 한국어, 영어, 중국어, 일본어, 베트남어, 태국어, 인도네시아어
- localStorage에 선택 언어 저장

### 2. 역할 기반 네비게이션
- 가이드 선택 → 가이드 전용 화면들
- 관광객 선택 → 관광객 전용 화면들
- localStorage에 역할 저장

### 3. 투어 코드/QR
- 6자리 랜덤 코드 생성 (Mock)
- react-qr-code로 QR 이미지 생성
- 클립보드 복사 기능 (react-hot-toast)

### 4. 긴급 연락망
- 이메일 입력/검색 UI
- localStorage에 연락처 저장 (최대 5개)
- 회원/비회원 구분 표시

### 5. 메시지 시뮬레이션
- 가이드가 메시지 입력 → Mock 번역 텍스트 표시
- 관광객 화면에 수신 메시지 표시
- 시간 표시 (상대 시간)

### 6. 참여자 관리 UI
- 언어별 그룹 표시
- 접속 상태 (🟢 온라인 / 🔴 오프라인)
- Mock 데이터로 참여자 목록 표시

### 7. 통계 대시보드
- 언어별 분포 차트 (간단한 bar)
- 참여자 수, 메시지 수 등 통계
- Mock 데이터 사용

---

## 📊 Mock 데이터 구조

### 투어 데이터
```typescript
interface Tour {
  id: string;              // "A1234"
  name: string;            // "경복궁 오전 투어"
  date: string;            // "2026-02-10"
  startTime: string;       // "09:00"
  maxParticipants: number; // 30
  participants: number;    // 15
  status: 'active' | 'waiting' | 'completed';
  guideId: string;
  guideName: string;       // "Kim MinSoo"
}
```

### 참여자 데이터
```typescript
interface Participant {
  id: string;
  name: string;            // "Nguyen Van A"
  email: string;
  language: string;        // "vi"
  languageName: string;    // "베트남어"
  flag: string;            // "🇻🇳"
  isOnline: boolean;
  joinedAt: string;
}
```

### 메시지 데이터
```typescript
interface Message {
  id: string;
  tourId: string;
  senderId: string;
  senderName: string;
  senderRole: 'guide' | 'tourist';
  originalText: string;    // 원문
  translatedTexts: {       // 각 언어별 번역
    [languageCode: string]: string;
  };
  timestamp: string;
  isEmergency: boolean;
}
```

### 긴급 연락처 데이터
```typescript
interface EmergencyContact {
  id: string;
  name: string;
  email: string;
  relation: string;        // "엄마", "친구" 등
  isMember: boolean;       // TourTalk 회원 여부
}
```

---

## 🚀 개발 단계

### Phase 1: 프로젝트 셋업 (1일차, 4시간)
- [ ] Next.js 16 프로젝트 생성
- [ ] Tailwind CSS 4 설정
- [ ] 필요한 패키지 설치
- [ ] 기본 컴포넌트 구조 생성
- [ ] 0️⃣ 로그인 화면 구현
- [ ] 1️⃣ 역할 선택 화면 구현
- [ ] Header 컴포넌트 (햄버거, 언어 선택)

### Phase 2: 가이드 플로우 (2일차, 4시간)
- [ ] 2️⃣ 긴급 연락망 설정 화면
- [ ] 3️⃣ 가이드 홈 화면
- [ ] 4️⃣ 투어 생성 화면
- [ ] QR 코드 생성 기능
- [ ] Mock 데이터 생성

### Phase 3: 투어 관리 & 관광객 플로우 (3일차, 4시간)
- [ ] 5️⃣ 가이드 투어 관리 화면 (3개 탭)
- [ ] 6️⃣ 관광객 투어 참여 화면
- [ ] 7️⃣ 관광객 메인 화면
- [ ] 8️⃣ 빠른 요청 화면

### Phase 4: 모달 & 완성도 (4일차, 2시간)
- [ ] 긴급 알림 모달
- [ ] 언어 선택 모달
- [ ] 확인 모달
- [ ] 모바일 반응형 최적화
- [ ] 전체 플로우 테스트

### Phase 5: 배포 (4일차, 1시간)
- [ ] GitHub 저장소 생성
- [ ] Vercel 연동
- [ ] 배포 테스트
- [ ] URL 공유 준비

**예상 총 소요 시간: 약 15시간 (3-4일)**

---

## 🌐 다국어 지원

### 지원 언어 (8개)
- 🇰🇷 한국어 (ko)
- 🇺🇸 English (en)
- 🇻🇳 Tiếng Việt (vi)
- 🇨🇳 简体中文 (zh-CN) - 중국어 간체
- 🇹🇼 繁體中文 (zh-TW) - 중국어 번체
- 🇯🇵 日本語 (ja)
- 🇹🇭 ภาษาไทย (th)
- 🇮🇩 Bahasa Indonesia (id)

### 다국어 텍스트 관리
```typescript
// lib/i18n.ts
export const translations = {
  ko: {
    login: {
      title: 'TourTalk',
      subtitle: '다국어 실시간 통역',
      googleLogin: 'Google로 시작하기',
      kakaoLogin: '카카오로 시작하기',
    },
    // ...
  },
  en: {
    login: {
      title: 'TourTalk',
      subtitle: 'Real-time Multilingual Interpretation',
      googleLogin: 'Start with Google',
      kakaoLogin: 'Start with Kakao',
    },
    // ...
  },
  // ... 다른 언어들
};
```

### 언어 전환 로직
```typescript
// localStorage에서 언어 가져오기
const currentLanguage = localStorage.getItem('language') || 'ko';

// 텍스트 렌더링
<p>{translations[currentLanguage].login.title}</p>
```

---

## 📱 반응형 디자인

### 모바일 우선 (Mobile First)
- 기본: 320px ~ 640px
- 모든 화면 모바일 최적화 필수

### 태블릿
- 768px ~ 1024px
- 2단 레이아웃 가능

### 데스크톱
- 1024px ~
- 최대 너비 제한 (max-w-7xl)
- 중앙 정렬

---

## 🧪 테스트 시나리오

### 가이드 플로우 테스트
1. 로그인 → 프로필 입력 → 가이드 선택
2. 긴급 연락망 추가 (최소 1명)
3. 가이드 홈에서 [새 투어 만들기]
4. 투어 정보 입력 → 생성
5. 투어 코드 복사
6. QR 이미지 저장
7. 투어 관리 화면 진입
8. 메시지 탭: 텍스트 전송, 빠른 메시지
9. 참여자 탭: 언어별 그룹 확인
10. 통계 탭: 데이터 확인

### 관광객 플로우 테스트
1. 로그인 → 프로필 입력 → 관광객 선택
2. 긴급 연락망 추가
3. 투어 코드 입력 → 참여
4. 메시지 수신 확인
5. [🔊 듣기] 버튼 클릭
6. [질문] 버튼 → 빠른 요청
7. 프리셋 버튼 클릭
8. 자유 입력 → 전송
9. [🆘 긴급] → 모달 → 전송

### 언어 전환 테스트
1. 우상단 🌐 버튼 클릭
2. 영어 선택
3. 화면 텍스트 변경 확인
4. 다른 화면 이동 → 언어 유지 확인
5. 새로고침 → 언어 유지 확인

### 반응형 테스트
1. Chrome DevTools 모바일 모드
2. 각 화면 확인 (iPhone SE, iPhone 12 Pro, iPad)
3. 가로/세로 모드
4. 버튼 터치 영역 확인

---

## 🚨 주의사항

### localStorage 사용
- 브라우저별 용량 제한 (5-10MB)
- 민감 정보 저장 금지
- JSON.stringify/parse 사용

### Mock 데이터
- 실제 API 연동 X
- 하드코딩된 데이터 사용
- 새로고침 시 초기화 가능

### 긴급 기능
- 실제 알림 전송 X
- toast로 "전송됨" 표시만
- 연락처는 localStorage만

### QR 코드
- 실제 스캔 기능 X
- 이미지 표시만
- 다운로드는 브라우저 기본 기능

### Tailwind CSS v4 주의사항
- v3와 설정 파일 구조가 다름
- CSS 파일에서 직접 테마 설정
- PostCSS 플러그인 설정 필요
- 공식 문서 참고 필수

---

## 📊 성공 지표

### 정량적 지표
- [ ] 8개 화면 모두 구현 완료
- [ ] 모바일/태블릿/데스크톱 반응형
- [ ] 7개 언어 UI 지원
- [ ] 페이지 로딩 속도 < 2초
- [ ] Lighthouse 점수 > 90점

### 정성적 지표
- [ ] 테스터 10명 이상 피드백 수집
- [ ] 화면 전환 플로우 이해도 > 80%
- [ ] UI/UX 만족도 > 70%
- [ ] 서비스 사용 의향 > 60%

---

## 📅 일정

### Week 1
- **Day 1-2**: 프로젝트 셋업 + 로그인/역할 선택
- **Day 3-4**: 가이드 플로우
- **Day 5**: 관광객 플로우
- **Day 6**: 모달 + 반응형
- **Day 7**: 배포 + 테스트

### Week 2
- 피드백 수집
- 개선 사항 반영
- MVP 1 기획 시작

---

## 🔗 참고 링크

### 공식 문서
- Next.js 16: https://nextjs.org/docs
- React 19: https://react.dev/
- TypeScript: https://www.typescriptlang.org/
- Tailwind CSS v4: https://tailwindcss.com/docs
- Lucide Icons: https://lucide.dev/
- Vercel 배포: https://vercel.com/docs

### 디자인 참고
- 투어 가이드 앱: Viator, GetYourGuide
- 번역 앱: Google Translate, Papago
- 메신저 앱: Telegram, WhatsApp

---

## 📮 연락처

### 프로젝트 관리자
- **이름**: Jun
- **역할**: Product Owner, Full-stack Developer

### 피드백
- GitHub Issues
- 이메일: (추후 추가)

---

## 🛠️ 기술 스택

### 프론트엔드

#### 필수 기술
```javascript
{
  "프레임워크": "Next.js 16.1.6 (App Router)",
  "UI 라이브러리": "React 19.2.4",
  "언어": "TypeScript 5.9.3",
  "스타일링": "Tailwind CSS 4.0.0",
  "라우팅": "Next.js App Router",
  "상태 관리": "React Context API + useState"
}
```

#### UI 라이브러리
```javascript
{
  "토스트": "react-hot-toast",
  "아이콘": "Lucide React",
  "애니메이션": "Framer Motion (선택)"
}
```

### 배포
```javascript
{
  "호스팅": "Vercel",
  "도메인": "tourtalk-mvp0.vercel.app (예시)",
  "데이터베이스": "Supabase (MVP 1부터 사용)"
}
```

**MVP 0:** 데이터베이스 없음 (가짜 데이터만)  
**MVP 1:** Supabase 연동 (실제 데이터 저장)

### 개발 도구
```javascript
{
  "패키지 매니저": "npm 또는 pnpm",
  "코드 포매터": "Prettier",
  "린터": "ESLint"
}
```

---

### 프로젝트 구조 (실제 구현)

```
tourtalk-mvp0/
├── app/                       # Next.js App Router
│   ├── page.tsx              # 0️⃣ 로그인/회원가입
│   ├── layout.tsx            # 루트 레이아웃
│   ├── globals.css           # 글로벌 스타일
│   │
│   ├── onboarding/           # 온보딩 화면
│   │   ├── profile/
│   │   │   └── page.tsx      # 프로필 입력 (첫 로그인)
│   │   ├── role/
│   │   │   └── page.tsx      # 1️⃣ 역할 선택
│   │   └── emergency/
│   │       └── page.tsx      # 2️⃣ 긴급 연락망 설정
│   │
│   ├── guide/                # 가이드 화면
│   │   ├── page.tsx          # 3️⃣ 가이드 홈
│   │   ├── create/
│   │   │   └── page.tsx      # 4️⃣ 투어 생성
│   │   └── tour/
│   │       └── [id]/
│   │           └── page.tsx  # 5️⃣ 투어 관리
│   │
│   └── tourist/              # 관광객 화면
│       ├── page.tsx          # 6️⃣ 투어 참여
│       ├── tour/
│       │   └── [id]/
│       │       └── page.tsx  # 7️⃣ 관광객 메인
│       └── request/
│           └── page.tsx      # 8️⃣ 빠른 요청
│
├── components/               # 재사용 컴포넌트
│   ├── layout/
│   │   ├── Header.tsx
│   │   ├── Hamburger.tsx
│   │   └── LanguageSelector.tsx
│   ├── modals/
│   │   ├── EmergencyModal.tsx
│   │   └── ConfirmModal.tsx
│   └── ui/
│       ├── Button.tsx
│       ├── Input.tsx
│       ├── Card.tsx
│       ├── Badge.tsx
│       ├── GoogleLogo.tsx
│       └── KakaoLogo.tsx
│
├── lib/                      # 가짜 데이터 & 유틸리티
│   ├── fakeTranslate.ts      # 가짜 번역 함수
│   ├── fakeTours.ts          # 투어 목록
│   ├── fakeParticipants.ts   # 참여자 목록
│   ├── fakeMessages.ts       # 메시지 목록
│   └── fakeUsers.ts          # 사용자 DB (회원 검색용)
│
├── types/                    # TypeScript 타입
│   └── index.ts              # Tour, Participant, Message 등
│
├── contexts/                 # 전역 상태
│   └── AppContext.tsx        # 통합 Context (User + Tour)
│
├── package.json
├── next.config.ts
├── tailwind.config.ts
├── tsconfig.json
└── README.md
```

---

### 핵심 구현 로직

#### 1. 가짜 번역 함수
```typescript
// lib/fakeTranslate.ts

import { translations } from './translations';

export const fakeTranslate = async (koreanText: string, targetLanguage: string): Promise<string> => {
  // 0.5초 딜레이 (번역 중 효과)
  await new Promise(resolve => setTimeout(resolve, 500));

  // 미리 준비된 번역 찾기
  const translation = translations.find(t => t.ko === koreanText);

  if (translation) {
    return translation[targetLanguage] || translation.en;
  }

  // 없으면 원문 반환
  return koreanText;
};
```

#### 2. 회원 검색 함수 (개인정보 보호) 🔒
```typescript
// lib/fakeUsers.ts

export const searchUserByEmail = (email: string, userDatabase: User[]) => {
  // 입력값 정규화 (소문자, 공백 제거)
  const normalizedEmail = email.trim().toLowerCase();
  
  // 정확히 일치하는 이메일만 검색
  const exactMatch = userDatabase.filter(
    user => user.email.toLowerCase() === normalizedEmail
  );
  
  // 부분 일치는 절대 반환 안함 (개인정보 보호)
  return exactMatch;
};

// ❌ 잘못된 예시 (개인정보 유출)
export const searchUserByEmailWRONG = (email, userDatabase) => {
  return userDatabase.filter(
    user => user.email.includes(email) // 부분 일치 - 위험!
  );
};

// 사용 예시
const result = searchUserByEmail('kim@email.com', users);
// kim@email.com → ✅ 검색됨
// minkim@email.com → ❌ 검색 안됨
// kimchi@email.com → ❌ 검색 안됨
```

#### 3. 메시지 전송 시뮬레이션
```javascript
// src/pages/TourManagePage.jsx

const handleSendMessage = async (messageText) => {
  // 1. 전송 중 상태
  setLoading(true);
  toast.loading('전송 중...', { id: 'sending' });
  
  // 2. 0.5초 딜레이
  await new Promise(resolve => setTimeout(resolve, 500));
  
  // 3. 메시지 추가 (가짜)
  const newMessage = {
    id: Date.now(),
    text: messageText,
    timestamp: new Date(),
    sender: 'guide'
  };
  
  setMessages([...messages, newMessage]);
  
  // 4. 완료 상태
  setLoading(false);
  toast.success('메시지 전송 완료!', { id: 'sending' });
};
```

#### 4. 언어 변경
```typescript
// contexts/AppContext.tsx

export const AppContext = createContext<AppContextType | undefined>(undefined);

export const AppProvider = ({ children }: { children: React.ReactNode }) => {
  const [language, setLanguage] = useState<Language>('ko');
  const [role, setRole] = useState<'guide' | 'tourist' | null>(null);

  const changeLanguage = (newLang: Language) => {
    setLanguage(newLang);
    // 화면 전체가 새 언어로 변경됨
  };

  return (
    <AppContext.Provider value={{
      language,
      changeLanguage,
      role,
      setRole
    }}>
      {children}
    </AppContext.Provider>
  );
};
```

---

### 개발 단계

#### Phase 1: 환경 설정 (30분)
```bash
# 1. Next.js 프로젝트 생성 (TypeScript 포함)
npx create-next-app@latest tourtalk-mvp0 --typescript --tailwind --app --use-npm

# 2. 의존성 설치
cd tourtalk-mvp0
npm install react-hot-toast lucide-react react-qr-code

# 3. 개발 서버 시작
npm run dev
```

#### Phase 2: 기본 구조 (1시간)
- [ ] Next.js App Router 구조 설정
- [ ] 8개 페이지 생성 (빈 껍데기)
- [ ] Context API 설정 (AppContext.tsx)
- [ ] 기본 레이아웃 컴포넌트 (Header, Hamburger)

#### Phase 3: 화면 구현 (3-4시간)
- [ ] 0️⃣ 로그인 화면
- [ ] 1️⃣ 역할 선택
- [ ] 2️⃣ 긴급 연락망
- [ ] 3️⃣ 가이드 홈
- [ ] 4️⃣ 투어 생성
- [ ] 5️⃣ 투어 관리
- [ ] 6️⃣ 투어 참여
- [ ] 7️⃣ 관광객 메인
- [ ] 8️⃣ 빠른 요청

#### Phase 4: 인터랙션 구현 (2-3시간)
- [ ] 가짜 번역 기능
- [ ] 로딩 애니메이션
- [ ] 토스트 알림
- [ ] 화면 전환
- [ ] 언어 변경

#### Phase 5: 배포 (30분)
```bash
# Vercel 배포
npm install -g vercel
vercel
```

**총 예상 시간: 7-9시간**

---

## 📄 변경 이력

| 날짜 | 버전 | 변경 내용 | 작성자 |
|------|------|----------|--------|
| 2026-02-06 | 1.0.0 | 초안 작성 (최신 버전 반영) | Jun |

---

## ✅ 다음 단계 (MVP 1)

MVP 0 검증 후 다음 기능 개발 예정:
- [ ] 실제 소셜 로그인 연동
- [ ] Firebase 실시간 데이터베이스
- [ ] Google Translate API 또는 DeepL API 연동
- [ ] 실시간 메시징 (WebSocket)
- [ ] 푸시 알림
- [ ] STT/TTS 기능
- [ ] 사용자 인증 시스템

---

**문서 종료**
